(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{6214:(e,r,s)=>{"use strict";s.d(r,{x:()=>t});var a=s(4381),d=s(9341);let t=(0,a.v)()((0,d.Zr)((e,r)=>({items:[],hasHydrated:!1,setHasHydrated:r=>{e({hasHydrated:r})},addItem:r=>e(e=>e.items.find(e=>e.id===r.id)?{items:e.items.map(e=>e.id===r.id?{...e,quantity:e.quantity+1}:e)}:{items:[...e.items,{...r,quantity:1}]}),removeItem:r=>e(e=>({items:e.items.filter(e=>e.id!==r)})),updateQuantity:(r,s)=>e(e=>({items:e.items.map(e=>e.id===r?{...e,quantity:Math.max(1,s)}:e)})),clearCart:()=>e({items:[]}),getTotalPrice:()=>r().items.reduce((e,r)=>e+r.price*r.quantity,0),getTotalItems:()=>r().items.reduce((e,r)=>e+r.quantity,0)}),{name:"cart-storage",storage:(0,d.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{null==e||e.setHasHydrated(!0)}}))},7057:(e,r,s)=>{Promise.resolve().then(s.bind(s,8003))},8003:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var a=s(4730),d=s(6130),t=s(6214),n=s(6177),o=s(5895),l=s.n(o),i=s(2056);function c(){let e=(0,i.useRouter)(),{items:r,getTotalPrice:s,clearCart:o}=(0,t.x)(),{user:c}=(0,n.n)(),[m,u]=(0,d.useState)(!1),[x,p]=(0,d.useState)(!1),[b,h]=(0,d.useState)({name:"",email:"",phone:"",address:"",addressDetail:"",zipCode:"",paymentMethod:"card",cardNumber:"",cardExpiry:"",cardCVC:"",agreeToTerms:!1});(0,d.useEffect)(()=>{u(!0),c&&h(e=>({...e,name:c.name||"",email:c.email||""}))},[c]);let g=e=>{let{name:r,value:s,type:a}=e.target;if("checkbox"===a){let s=e.target.checked;h(e=>({...e,[r]:s}))}else h(e=>({...e,[r]:s}))},f=e=>{h(r=>({...r,paymentMethod:e}))},y=async r=>{if(r.preventDefault(),!b.agreeToTerms)return void alert("결제 진행을 위해 약관에 동의해주세요.");p(!0),setTimeout(()=>{o(),e.push("/checkout/success")},2e3)},j=e=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e);return m&&0!==r.length?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("header",{className:"bg-card border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l(),{href:"/dashboard",className:"text-2xl font-bold text-primary",children:"AIMAX"}),(0,a.jsx)("span",{className:"ml-4 text-muted-foreground",children:"/ 결제"})]})})})}),(0,a.jsxs)("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-8",children:"결제하기"}),(0,a.jsxs)("form",{onSubmit:y,className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-card border rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"배송 정보"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"이름"}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",value:b.name,onChange:g,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:"전화번호"}),(0,a.jsx)("input",{id:"phone",name:"phone",type:"tel",value:b.phone,onChange:g,placeholder:"010-0000-0000",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"이메일"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",value:b.email,onChange:g,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20",required:!0})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-foreground mb-2",children:"주소"}),(0,a.jsx)("input",{id:"address",name:"address",type:"text",value:b.address,onChange:g,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-foreground mb-2",children:"우편번호"}),(0,a.jsx)("input",{id:"zipCode",name:"zipCode",type:"text",value:b.zipCode,onChange:g,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"addressDetail",className:"block text-sm font-medium text-foreground mb-2",children:"상세 주소"}),(0,a.jsx)("input",{id:"addressDetail",name:"addressDetail",type:"text",value:b.addressDetail,onChange:g,placeholder:"아파트, 동/호수 등",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20"})]})]})]}),(0,a.jsxs)("div",{className:"bg-card border rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"결제 방법"}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-muted/50 transition",children:[(0,a.jsx)("input",{type:"radio",name:"paymentMethod",value:"card",checked:"card"===b.paymentMethod,onChange:()=>f("card"),className:"w-4 h-4 text-primary"}),(0,a.jsx)("span",{className:"ml-3 font-medium text-foreground",children:"신용/체크카드"})]}),(0,a.jsxs)("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-muted/50 transition",children:[(0,a.jsx)("input",{type:"radio",name:"paymentMethod",value:"bank",checked:"bank"===b.paymentMethod,onChange:()=>f("bank"),className:"w-4 h-4 text-primary"}),(0,a.jsx)("span",{className:"ml-3 font-medium text-foreground",children:"무통장 입금"})]}),(0,a.jsxs)("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-muted/50 transition",children:[(0,a.jsx)("input",{type:"radio",name:"paymentMethod",value:"phone",checked:"phone"===b.paymentMethod,onChange:()=>f("phone"),className:"w-4 h-4 text-primary"}),(0,a.jsx)("span",{className:"ml-3 font-medium text-foreground",children:"휴대폰 결제"})]})]}),"card"===b.paymentMethod&&(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t border-border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-foreground mb-2",children:"카드 번호"}),(0,a.jsx)("input",{id:"cardNumber",name:"cardNumber",type:"text",value:b.cardNumber,onChange:g,placeholder:"0000-0000-0000-0000",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cardExpiry",className:"block text-sm font-medium text-foreground mb-2",children:"유효기간"}),(0,a.jsx)("input",{id:"cardExpiry",name:"cardExpiry",type:"text",value:b.cardExpiry,onChange:g,placeholder:"MM/YY",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cardCVC",className:"block text-sm font-medium text-foreground mb-2",children:"CVC"}),(0,a.jsx)("input",{id:"cardCVC",name:"cardCVC",type:"text",value:b.cardCVC,onChange:g,placeholder:"000",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20"})]})]})]})]})]}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-card border rounded-xl p-6 sticky top-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"주문 상품"}),(0,a.jsx)("div",{className:"space-y-3 mb-6",children:r.map(e=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground",children:[e.title," x ",e.quantity]}),(0,a.jsx)("span",{className:"text-foreground font-medium",children:j(e.price*e.quantity)})]},e.id))}),(0,a.jsxs)("div",{className:"border-t border-border pt-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-muted-foreground",children:[(0,a.jsx)("span",{children:"상품 금액"}),(0,a.jsx)("span",{children:j(s())})]}),(0,a.jsxs)("div",{className:"flex justify-between text-muted-foreground",children:[(0,a.jsx)("span",{children:"배송비"}),(0,a.jsx)("span",{children:"무료"})]}),(0,a.jsx)("div",{className:"border-t border-border pt-3",children:(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold text-foreground",children:[(0,a.jsx)("span",{children:"총 결제금액"}),(0,a.jsx)("span",{className:"text-primary",children:j(s())})]})})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("label",{className:"flex items-start",children:[(0,a.jsx)("input",{type:"checkbox",name:"agreeToTerms",checked:b.agreeToTerms,onChange:g,className:"w-4 h-4 text-primary mt-1"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"주문 내용을 확인했으며, 결제 진행에 동의합니다"})]})}),(0,a.jsx)("button",{type:"submit",disabled:x||!b.agreeToTerms,className:"w-full mt-6 bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-semibold transition disabled:opacity-50 disabled:cursor-not-allowed",children:x?"처리 중...":"".concat(j(s())," 결제하기")}),(0,a.jsx)("p",{className:"mt-4 text-xs text-muted-foreground text-center",children:"안전한 결제 시스템으로 보호됩니다"})]})})]})]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"결제할 상품이 없습니다"}),(0,a.jsx)(l(),{href:"/dashboard",className:"text-primary hover:text-primary/80 font-semibold",children:"쇼핑 계속하기"})]})})}}},e=>{e.O(0,[895,762,420,722,358],()=>e(e.s=7057)),_N_E=e.O()}]);