(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[868],{2343:(e,a,t)=>{Promise.resolve().then(t.bind(t,7548))},7548:(e,a,t)=>{"use strict";t.d(a,{CampaignsManager:()=>r});var s=t(4730),n=t(6130);let c="/api/campaigns",i={async list(e){let a=new URLSearchParams;(null==e?void 0:e.status)&&a.append("status",e.status);let t=await fetch("".concat(c,"?").concat(a));if(!t.ok)throw Error("Failed to fetch campaigns");return t.json()},async get(e){let a=await fetch("".concat(c,"/").concat(e));if(!a.ok)throw Error("Failed to fetch campaign");return a.json()},async create(e){let a=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to create campaign");return a.json()},async update(e,a){let t=await fetch("".concat(c,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok)throw Error("Failed to update campaign");return t.json()},async delete(e){let a=await fetch("".concat(c,"/").concat(e),{method:"DELETE"});if(!a.ok)throw Error("Failed to delete campaign");return a.json()}};function r(){let[e,a]=(0,n.useState)([]),[t,c]=(0,n.useState)(!0),[r,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{o()},[]);let o=async()=>{try{c(!0),l(null);let e=await i.list();a(e)}catch(e){l(e instanceof Error?e.message:"Failed to load campaigns")}finally{c(!1)}},d=async()=>{try{let t=await i.create({name:"New Campaign ".concat(Date.now()),data:{description:"Campaign created via API example"}});a([t,...e])}catch(e){l(e instanceof Error?e.message:"Failed to create campaign")}},p=async(t,s)=>{try{let n=await i.update(t,{status:s});a(e.map(e=>e.id===t?n:e))}catch(e){l(e instanceof Error?e.message:"Failed to update campaign")}},m=async t=>{if(confirm("Are you sure you want to delete this campaign?"))try{await i.delete(t),a(e.filter(e=>e.id!==t))}catch(e){l(e instanceof Error?e.message:"Failed to delete campaign")}};return t?(0,s.jsx)("div",{className:"p-4",children:"Loading campaigns..."}):r?(0,s.jsxs)("div",{className:"p-4 text-red-600",children:["Error: ",r]}):(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Campaigns Manager"}),(0,s.jsx)("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Create Campaign"})]}),(0,s.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,s.jsx)("div",{className:"border rounded-lg p-4 space-y-2",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Status: ",(0,s.jsx)("span",{className:"font-medium",children:e.status})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("select",{value:e.status,onChange:a=>p(e.id,a.target.value),className:"px-2 py-1 border rounded text-sm",children:[(0,s.jsx)("option",{value:"draft",children:"Draft"}),(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"paused",children:"Paused"}),(0,s.jsx)("option",{value:"completed",children:"Completed"})]}),(0,s.jsx)("button",{onClick:()=>m(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete"})]})]})},e.id))}),0===e.length&&(0,s.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No campaigns yet. Create your first campaign!"})]})}}},e=>{e.O(0,[420,722,358],()=>e(e.s=2343)),_N_E=e.O()}]);