(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{2056:(e,r,s)=>{"use strict";var t=s(4008);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},3752:(e,r,s)=>{Promise.resolve().then(s.bind(s,9472))},9472:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var t=s(4730),o=s(6130),n=s(5895),a=s.n(n),d=s(2056);function l(){let e=(0,d.useRouter)(),r=(0,d.useSearchParams)().get("token"),[s,n]=(0,o.useState)(""),[l,i]=(0,o.useState)(""),[c,u]=(0,o.useState)(!1),[m,x]=(0,o.useState)(""),[h,f]=(0,o.useState)(!1);(0,o.useEffect)(()=>{r||x("유효하지 않은 재설정 링크입니다")},[r]);let b=async t=>{if(t.preventDefault(),x(""),!s||!l)return void x("모든 필드를 입력해주세요");if(s.length<8)return void x("비밀번호는 8자 이상이어야 합니다");if(s!==l)return void x("비밀번호가 일치하지 않습니다");u(!0);try{let t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,password:s})}),o=await t.json();if(!t.ok)throw Error(o.error||"비밀번호 재설정에 실패했습니다");f(!0),setTimeout(()=>{e.push("/login")},3e3)}catch(e){x(e.message||"오류가 발생했습니다")}finally{u(!1)}};return h?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:(0,t.jsx)("div",{className:"max-w-md w-full",children:(0,t.jsxs)("div",{className:"bg-card rounded-2xl shadow-lg border p-8 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"비밀번호가 변경되었습니다"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"새로운 비밀번호로 로그인해주세요"}),(0,t.jsx)(a(),{href:"/login",className:"block w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-semibold transition",children:"로그인 페이지로 이동"})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:(0,t.jsx)("div",{className:"max-w-md w-full",children:(0,t.jsxs)("div",{className:"bg-card rounded-2xl shadow-lg border p-8",children:[(0,t.jsx)(a(),{href:"/",className:"block text-center mb-8",children:(0,t.jsx)("h1",{className:"text-3xl font-bold text-primary",children:"AIMAX"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"새 비밀번호 설정"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"새로운 비밀번호를 입력해주세요"}),r?(0,t.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"새 비밀번호"}),(0,t.jsx)("input",{id:"password",type:"password",value:s,onChange:e=>n(e.target.value),placeholder:"8자 이상",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"새 비밀번호 확인"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:l,onChange:e=>i(e.target.value),placeholder:"비밀번호 재입력",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition",required:!0})]}),m&&(0,t.jsx)("div",{className:"text-red-500 text-sm",children:m}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-semibold transition disabled:opacity-50 disabled:cursor-not-allowed",children:c?"변경 중...":"비밀번호 변경"})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-red-500 mb-4",children:"유효하지 않은 재설정 링크입니다"}),(0,t.jsx)(a(),{href:"/forgot-password",className:"text-primary hover:text-primary/80 font-semibold",children:"비밀번호 재설정 다시 요청하기"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)(a(),{href:"/login",className:"text-muted-foreground hover:text-foreground text-sm",children:"로그인 페이지로 돌아가기"})})]})})})}function i(){return(0,t.jsx)(o.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-center",children:"Loading..."})}),children:(0,t.jsx)(l,{})})}}},e=>{e.O(0,[895,420,722,358],()=>e(e.s=3752)),_N_E=e.O()}]);